# ThmanyaTask

ملاحظة : وجدت مشكلة في ال unit test وقمت بتعديلها بعد انتهاء مهلة 5 أيام

# موجز الحل

1. استخدمت معمارية **MVVM** مع **Clean Architecture** في هيكلية التطبيق.  
2. بنيت هيكلية موحدة للاتصال بالشبكة لتسهيل إضافة أي نوع من الطلبات، معتمدة على **async/await**.  
3. عرّفت نماذج بيانات مناسبة للبيانات القادمة من الخادم، مع حل مشكلة تنوع البيانات بين أنواع المحتوى المختلفة.  
4. التطبيق يتكون من نافذتين رئيسيتين: **الرئيسية** و **البحث**.  
5. كلا النافذتين تعرضان المحتويات بحسب البيانات الواردة من قاعدة البيانات.  
6. عند الضغط على أيقونة يتم فتح شاشة **تفاصيل المحتوى**.  
7. شاشة البحث مشابهة للشاشة الرئيسية لكن مع صورة **Placeholder** تختفي عند بدء البحث وتظهر النتائج بدلاً منها.  
8. في البحث يتم **تأخير طلب البحث الجديد بمقدار 200ms** لتفادي إرسال عدة طلبات متتالية للخادم، كما يتم تجاهل الطلب إذا كان مطابقاً للطلب السابق.  
9. الواجهة الرئيسية تدعم **التحميل التدريجي (Pagination)**، حيث يتم تحميل المزيد من الصفحات بعد استعراض 10 أقسام. الرقم 10 هو قيمة معيارية قابلة للتغيير.  

---

# التحديات

- **تنوع أنواع هياكل البيانات الفرعية** مع بقاء الهيكل الرئيسي واحد.  
  - تم حل المشكلة بتعريف نوع `enum` يحتوي على 4 حالات مطابقة لأنواع البيانات المختلفة، مع كتابة دالة تساعد الـ **Decoder** على التحقق من نوع البيانات وتفسيرها.  

- **حقول بيانات متعددة الأنواع** (مثل `String` و `Int` في نفس المفتاح).  
  - تم تجاوز ذلك بتعريف `enum` خاص يتعامل مع كلا النوعين.  

---

# المقترحات

1. إمكانية بناء هيكلية الشبكة باستخدام **Combine** بدلاً من `async/await` للاستفادة من تكاملها العالي مع **SwiftUI**.  
2. تطوير **Error Handler** أقوى لتقديم تجربة أوضح للمستخدمين عند حدوث الأخطاء.  
3. تحسين واجهة عرض محتوى **البودكاست** لتصبح أكثر جاذبية وسلاسة.  
